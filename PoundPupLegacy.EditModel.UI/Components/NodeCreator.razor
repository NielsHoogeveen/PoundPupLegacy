@typeparam TRead where TRead : class, Node
@typeparam TSave where TSave : class, TRead
@inherits ViewerBase
@inject IEditService<TRead, TSave> editService

@if (Model is not null)
{
    <NodeEditor Model="Model" TRead="TRead" TSave="TSave" Title="@Title"/>
}
@code {

    TRead? Model;

    protected override async Task OnInitializedAsync()
    {
        Model = await editService.GetViewModelAsync(userId: UserId, tenantId: TenantId);
        StateHasChanged();
    }

    public string Title => $"Create {Model?.NodeTypeName}";
}
